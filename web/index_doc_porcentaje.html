<!DOCTYPE html>
<html>
<head>
  <title>TP Open Data Final</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="css/leaflet.css" />
  <script src="js/chart/Chart.js"></script>
    <script src="js/jquery-1.11.1.min.js"></script>
  <link rel="stylesheet" href="css/bootstrap.min.css" />
  <link rel="stylesheet" href="css/bootstrap-theme.min.css" />
  <script src="js/bootstrap.min.js" type="text/javascript"></script>
  <!--[if lte IE 8]><link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4/leaflet.ie.css" /><![endif]-->
  <script src="js/py-dptos.js"></script>
</head>
<body>
    <div class="row">
  <div class="col-md-5" style=" margin-left: 20px">
    <div class="row">
    <button onclick="location.href='index_matriculados.html'" class="btn btn-info" style=" width: 275px">números</button>    <button onclick="location.href='index_matriculados_porcentaje.html'" class="btn btn-success" style=" width: 275px">porcentajes</button>
    </div>
    <div class="row">
    <button onclick="location.href='index_matriculados_porcentaje.html'" class="btn btn-success" style=" width: 138px">matriculados</button><button onclick="location.href='index_muebles_porcentaje.html'" class="btn btn-success" style=" width: 137px">muebles</button><button onclick="location.href='index_superficie_porcentaje.html'" class="btn btn-success" style=" width: 138px">superficie</button ><button onclick="location.href='index_doc_porcentaje.html'" class="btn btn-success" style=" width: 137px">docentes</button>
    </div>
    <div class="row">
        
    <div id="canvas-holder">
			<canvas id="chart-area" width="500" height="500"/>
		</div>
        
    </div>
    </div>
        
    <div class="col-md-5" style=" margin-left: 40px">
      <div class="row">
          
                    <label id="estado" style=" margin-left: 80px; margin-right: auto; margin-top: 30px;height: 100%; width: 100%;text-align: center; font-size: 25px;">Porcentaje sobre el total: Asunción</label>

      </div>
    <div style="width: 50%" id="holder">
			<canvas id="canvas" height="450" width="600"></canvas>
			
    </div>

	<script>

		var pieData = [
				{
					value: 0.00,
					color:"#556B2F",
					highlight: "#312f2f",
					label: "Alto Paraguay"
				},
				{
					value: 1.57,
					color: "#46BFBD",
					highlight: "#312f2f",
					label: "Amambay"
				},
				{
					value: 7.98,
					color: "#FDB45C",
					highlight: "#312f2f",
					label: "Alto Parana"
				},
				{
					value: 0.00,
					color: "maroon",
					highlight: "#312f2f",
					label: "Boquerón"
				},
				{
					value: 10.03,
					color: "#FFD700",
					highlight: "#312f2f",
					label: "Caaguazú"
				},
				{
					value: 3.21,
					color: "blue",
					highlight: "#312f2f",
					label: "Caazapá"
				},
				{
					value: 2.76,
					color: "purple",
					highlight: "#312f2f",
					label: "Canindeyú"
				},
				{
					value: 10.34,
					color: "green",
					highlight: "#312f2f",
					label: "Capital"
				},
				{
					value: 22.19,
					color: "red",
					highlight: "#312f2f",
					label: "Central"
				},
				{
					value: 4.56,
					color: "silver",
					highlight: "#312f2f",
					label: "Concepción"
				},
				{
					value: 6.00,
					color: "lime",
					highlight: "#312f2f",
					label: "Cordillera"
				},
				{
					value: 4.25,
					color: "teal",
					highlight: "#312f2f",
					label: "Guairá"
				},
				{
					value: 6.41,
					color: "fuchsia",
					highlight: "#312f2f",
					label: "Itapúa"
				},
				{
					value: 3.35,
					color: "#9370DB",
					highlight: "#312f2f",
					label: "Misiones"
				},
				{
					value: 1.86,
					color: "#FFB6C1",
					highlight: "#312f2f",
					label: "Ñeembucú"
				},
                                {
					value: 6.56,
					color: "#8FBC8F",
					highlight: "#312f2f",
					label: "Paraguarí"
				},		
                                {
					value: 0.00,
					color: "#EEE8AA",
					highlight: "#312f2f",
					label: "Presidente Hayes"
				},	
                                {
					value: 8.96,
					color: "#949FB1",
					highlight: "#312f2f",
					label: "San Pedro"
				}
			];

			window.onload = function(){
				var ctx = document.getElementById("chart-area").getContext("2d");
				window.myPie = new Chart(ctx).Pie(pieData);
                                holder = document.getElementById('canvas-holder');
                                holder.onclick = function(evt){
                                    var activePoints = window.myPie.getSegmentsAtEvent(evt);
                                    $('#estado').text("Porcentaje sobre el total: "+activePoints[0].label);
                                    var indice= activePoints[0].label==="Alto Paraguay" ? 0:
                                    activePoints[0].label==="Amambay"? 2:
                                    activePoints[0].label==="Alto Parana"? 1:
                                    activePoints[0].label==="Boquerón"? 4:
                                    activePoints[0].label==="Caaguazú"? 5:
                                    activePoints[0].label==="Caazapá"? 6:
                                    activePoints[0].label==="Canindeyú"? 7:
                                    activePoints[0].label==="Capital"? 3:
                                    activePoints[0].label==="Central"? 8:
                                    activePoints[0].label==="Concepción"? 9:
                                    activePoints[0].label==="Cordillera"? 10:
                                    activePoints[0].label==="Guairá"? 11:
                                    activePoints[0].label==="Itapúa"? 12:
                                    activePoints[0].label==="Misiones"? 13:
                                    activePoints[0].label==="Ñeembucú"? 17:
                                    activePoints[0].label==="Paraguarí"? 14:
                                    activePoints[0].label==="Presidente Hayes"? 15:
                                    activePoints[0].label==="San Pedro"? 16:
                                    3;
                            var barChartData = {
		labels : ["Matriculados","Muebles","Superficie","Docentes"],
		datasets : [
			{
				fillColor : "rgba(220,220,220,0.5)",
				strokeColor : "rgba(220,220,220,0.8)",
				highlightFill: "rgba(220,220,220,0.75)",
				highlightStroke: "rgba(220,220,220,1)",
                                
				data : [statesData.features[indice].properties.matriculados_por_dpto/1307150*100,
                                    statesData.features[indice].properties.monto_muebles_por_dpto/267605*100,
                                    statesData.features[indice].properties.superficie_por_dpto/40583*100,
                                    statesData.features[indice].properties.monto_docentes_por_dpto/55153*100]
			}
		]
	};
                
                var oldcanv = document.getElementById('canvas');
                var holder=document.getElementById('holder');
                holder.removeChild(oldcanv);

                var canv = document.createElement('canvas');
                canv.id = 'canvas';
                canv.height="450";
                canv.width="600";
                holder.appendChild(canv);
                
                
        	var ctx = document.getElementById("canvas").getContext("2d");
		window.myBar = new Chart(ctx).Bar(barChartData, {
			responsive : false
		});
                
                myBar.datasets[0].bars[0].fillColor = "green"; //bar 1
                myBar.datasets[0].bars[0].highlightFill="#312f2f";
                myBar.datasets[0].bars[1].fillColor = "orange"; //bar 2
                myBar.datasets[0].bars[1].highlightFill="#312f2f";
                myBar.datasets[0].bars[2].fillColor = "red"; //bar 3
                myBar.datasets[0].bars[2].highlightFill="#312f2f";
                myBar.datasets[0].bars[3].fillColor = "blue";
                myBar.datasets[0].bars[3].highlightFill="#312f2f";
                myBar.update();
                                    
                                };
                                
                               var barChartData = {
		labels : ["Matriculados","Muebles","Superficie","Docentes"],
		datasets : [
			{
				fillColor : "rgba(220,220,220,0.5)",
				strokeColor : "rgba(220,220,220,0.8)",
				highlightFill: "rgba(220,220,220,0.75)",
				highlightStroke: "rgba(220,220,220,1)",
				data : [statesData.features[3].properties.matriculados_por_dpto/1307150*100,
                                    statesData.features[3].properties.monto_muebles_por_dpto/267605*100,
                                    statesData.features[3].properties.superficie_por_dpto/40583*100,
                                    statesData.features[3].properties.monto_docentes_por_dpto/55153*100]
			}
		]
	};
                
                var oldcanv = document.getElementById('canvas');
                var holder=document.getElementById('holder');
                holder.removeChild(oldcanv);

                var canv = document.createElement('canvas');
                canv.id = 'canvas';
                canv.height="450";
                canv.width="600";
                holder.appendChild(canv);
                
                
        	var ctx = document.getElementById("canvas").getContext("2d");
		window.myBar = new Chart(ctx).Bar(barChartData, {
			responsive : false
		});
                
                myBar.datasets[0].bars[0].fillColor = "green"; //bar 1
                myBar.datasets[0].bars[0].highlightFill="#312f2f";
                myBar.datasets[0].bars[1].fillColor = "orange"; //bar 2
                myBar.datasets[0].bars[1].highlightFill="#312f2f";
                myBar.datasets[0].bars[2].fillColor = "red"; //bar 3
                myBar.datasets[0].bars[2].highlightFill="#312f2f";
                myBar.datasets[0].bars[3].fillColor = "blue";
                myBar.datasets[0].bars[3].highlightFill="#312f2f";
                myBar.update();
			};



	</script>
        </div>
</div>


</body>
</html>
